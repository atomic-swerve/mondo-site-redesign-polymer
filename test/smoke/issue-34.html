<!DOCTYPE html>
<html>
<head>
  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../polymer.html">
</head>
<body>

<dom-module id="x-parent">
  <template>
    <h1>1 + [[foo]] = [[bar]]</h1>
    <x-child id="child" foo="[[foo]]" bar="{{bar}}"></x-child>
  </template>

  <script>
    Polymer({
      is: 'x-parent',

      properties: {
        foo: {
          type: Number,
          value: 1
        }
      },

      attached() {
        window.setInterval(function() {
          ++this.foo;
        }.bind(this), 2000);
      }
    });
  </script>
</dom-module>

<dom-module id="x-child">
  <script>
    Polymer({
      is: 'x-child',

      properties: {
        foo: {
          type: Number,
          observer: 'fooChanged'
        },

        bar: {
          type: Number,
          notify: true
        }
      },

      fooChanged() {
        this.bar = 1 + this.foo;
      }
    });
  </script>
</dom-module>

<x-parent></x-parent>

</body>
</html>
